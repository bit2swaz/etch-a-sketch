<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-A-Sketch!</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <h1>Etch-A-Sketch</h1>

    <button id="newGridBtn">Change Grid Size</button>

    <div id="grid-container"></div>

    <script>
        const gridContainer = document.getElementById('grid-container');

        function createGrid(size) {
            gridContainer.innerHTML = "";
            
            const totalSquares = size * size;
            const squareSize = 960/size;

            for (let i = 0; i < totalSquares; i++) {
                const square = document.createElement("div");
                square.classList.add("grid-square");

                square.style.height = `${squareSize}px`;
                square.style.width = `${squareSize}px`;

                square.addEventListener("mouseover", function() {
                    this.style.backgroundColor = "#333";
                });

                gridContainer.appendChild(square);
            }
        }

        const newGridButton = document.getElementById("newGridBtn");

        newGridButton.addEventListener("click", function() {
            let input;
            let newSize;

            while (true) {
                input = prompt("Enter number of squares per size (max 100): ");

                if (input === null) {
                    break;
                }

                newSize = parseInt(input);

                if (isNaN(newSize) || newSize < 1 || newSize > 100) {
                    alert("Please enter a valid number between 1 and 100.");
                } else {
                    createGrid(newSize);
                    break;
                }
            }
        });

        createGrid(16);
    </script>
</body>
</html>